<!DOCTYPE html>
<html
  lang="es"
  xmlns:th="http://www.thymeleaf.org"
  th:replace="~{_layout :: html(~{::title}, ~{::section}, ~{::pageCss}, ~{::pageScript})}">
  <head>
    <title>Películas - WatchList</title>
    <th:block th:fragment="pageCss">
    </th:block>
  </head>
  <body>
    <section th:fragment="section">
      <div class="content-container"> 
        <h1 style="text-align: center; margin-bottom: 30px; color: var(--color-yellow-2);">Películas</h1>

        <div th:if="${peliculas == null or #lists.isEmpty(peliculas)}">
          <p style="text-align: center;">No hay películas para mostrar en este momento.</p>
        </div>

        <div class="movie-grid" th:if="${peliculas != null and not #lists.isEmpty(peliculas)}">
          <div class="movie-card" th:each="pelicula : ${peliculas}">
            <a th:href="@{/peliculas/{id}(id=${pelicula.id})}" class="movie-card-link" th:title="${pelicula.titulo}"> 
              <div class="movie-card-poster-container">
                <img
                  th:if="${pelicula.urlImagen != null and not #strings.isEmpty(pelicula.urlImagen)}"
                  th:src="${pelicula.urlImagen}"
                  th:alt="${pelicula.titulo}"
                  class="movie-card-poster"
                  loading="lazy" />
                <div
                  th:unless="${pelicula.urlImagen != null and not #strings.isEmpty(pelicula.urlImagen)}"
                  class="movie-card-poster-placeholder">
                  <span>Sin Póster</span>
                </div>
              </div>
              <div class="movie-card-info">
                <h3 class="movie-card-title" th:text="${pelicula.titulo}">Título de la Película</h3>
                <p class="movie-card-year" th:text="${pelicula.anioEstreno}">Año</p>
              </div>
            </a>
          </div>
        </div>
      </div>
    </section>
    <th:block th:fragment="pageScript"> </th:block>
  </body>
</html>
